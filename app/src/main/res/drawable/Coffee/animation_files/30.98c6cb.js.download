webpackJsonp([30],{358:function(t,e){t.exports=function(t,e,a,n,s,i){var r,o=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(r=t,o=t.default);var c,d="function"==typeof o?o.options:o;if(e&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0),a&&(d.functional=!0),s&&(d._scopeId=s),i?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},d._ssrRegister=c):n&&(c=n),c){var u=d.functional,f=u?d.render:d.beforeCreate;u?(d._injectStyles=c,d.render=function(t,e){return c.call(e),f(t,e)}):d.beforeCreate=f?[].concat(f,c):[c]}return{esModule:r,exports:o,options:d}}},359:function(t,e,a){var n="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!n)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var s=a(360),i={},r=n&&(document.head||document.getElementsByTagName("head")[0]),o=null,l=0,c=!1,d=function(){},u=null,f="data-vue-ssr-id",m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(t){for(var e=0;e<t.length;e++){var a=t[e],n=i[a.id];if(n){n.refs++;for(var s=0;s<n.parts.length;s++)n.parts[s](a.parts[s]);for(;s<a.parts.length;s++)n.parts.push(h(a.parts[s]));n.parts.length>a.parts.length&&(n.parts.length=a.parts.length)}else{var r=[];for(s=0;s<a.parts.length;s++)r.push(h(a.parts[s]));i[a.id]={id:a.id,refs:1,parts:r}}}}function v(){var t=document.createElement("style");return t.type="text/css",r.appendChild(t),t}function h(t){var e,a,n=document.querySelector("style["+f+'~="'+t.id+'"]');if(n){if(c)return d;n.parentNode.removeChild(n)}if(m){var s=l++;n=o||(o=v()),e=_.bind(null,n,s,!1),a=_.bind(null,n,s,!0)}else n=v(),e=function(t,e){var a=e.css,n=e.media,s=e.sourceMap;n&&t.setAttribute("media",n);u.ssrId&&t.setAttribute(f,e.id);s&&(a+="\n/*# sourceURL="+s.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */");if(t.styleSheet)t.styleSheet.cssText=a;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(a))}}.bind(null,n),a=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else a()}}t.exports=function(t,e,a,n){c=a,u=n||{};var r=s(t,e);return p(r),function(e){for(var a=[],n=0;n<r.length;n++){var o=r[n];(l=i[o.id]).refs--,a.push(l)}e?p(r=s(t,e)):r=[];for(n=0;n<a.length;n++){var l;if(0===(l=a[n]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete i[l.id]}}}};var g,b=(g=[],function(t,e){return g[t]=e,g.filter(Boolean).join("\n")});function _(t,e,a,n){var s=a?"":n.css;if(t.styleSheet)t.styleSheet.cssText=b(e,s);else{var i=document.createTextNode(s),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(i,r[e]):t.appendChild(i)}}},360:function(t,e){t.exports=function(t,e){for(var a=[],n={},s=0;s<e.length;s++){var i=e[s],r=i[0],o={id:t+":"+s,css:i[1],media:i[2],sourceMap:i[3]};n[r]?n[r].parts.push(o):a.push(n[r]={id:r,parts:[o]})}return a}},584:function(t,e,a){var n=a(585);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(359)("49cc9e57",n,!0,{})},585:function(t,e,a){(t.exports=a(356)(!1)).push([t.i,".arrowup[data-v-a4fe5cfa]{width:0;height:0;border-style:solid;border-width:0 5px 10px;border-color:transparent transparent #65d5ca}.slide-fade-enter-active[data-v-a4fe5cfa]{-webkit-transition:all .3s ease;transition:all .3s ease}.slide-fade-leave-active[data-v-a4fe5cfa]{-webkit-transition:all .4s cubic-bezier(1,.5,.8,1);transition:all .4s cubic-bezier(1,.5,.8,1)}.slide-fade-enter[data-v-a4fe5cfa],.slide-fade-leave-to[data-v-a4fe5cfa]{-webkit-transform:translateY(-10px);transform:translateY(-10px);opacity:0}",""])},586:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t};e.default={props:{count:null},data:function(){return{toast:!1,show:!1,activePayment:!1,disableSubmit:!0,cart:[],isBlink:!1,stripe:null,total:this.count?this.count:2,assetsPath:window.assetsPath,staticPath:window.lf.staticPath,errorMsg:null,authuid:window.lf.user?window.lf.user.id:null,csrf:document.head.querySelector('meta[name="csrf-token"]').content}},mounted:function(){var t=this;t.getCartData(),t.authuid&&Vue.loadScript("https://js.stripe.com/v3/").then(function(){t.initStripe()}).catch(function(){}),Bus.$on("ADD_TO_CART",function(e){t.addToCart(e)}),Bus.$on("REMOVE_FROM_CART",function(e){t.removeFromCartById(e)}),Bus.$on("TOGGLE_CART_NAV",function(){t.toggleShow()})},computed:{getTotal:function(){if(this.cart.length>0){return this.cart.map(function(t){return t.price}).reduce(function(t,e){return parseFloat(t)+parseFloat(e)}).toFixed(2)}return 0},getItemsCount:function(){return this.cart.length}},methods:{outside:function(t){this.show=!1},inside:function(t){this.show=!0},getCartData:function(){var t=this;t.authuid&&axios.get("/cart").then(function(e){""!==e.data&&(t.cart=e.data)}).catch(function(t){return console.log(t)})},toggleShow:function(){var t=this;this.show=!this.show,this.show&&setTimeout(function(){t.loadForm()},10)},addToCart:function(t){var e=this,a=this;if(a.authuid){var n=!1;a.cart.map(function(e){e.id==t.id&&(n=!0)}),0==a.cart.length&&(a.show=!1),n||(a.cart.push(t),axios.patch("/cart/"+t.id,{pack_id:t.pack_id}).then(function(t){if(t.data){e.isBlink=!0;var n=e;setTimeout(function(){n.isBlink=!1},200),1==a.cart.length?(a.show=!0,setTimeout(function(){e.loadForm()},10)):(e.toast=!0,setTimeout(function(){n.toast=!1},2e3))}}).catch(function(t){}))}else Bus.$emit("AUTH_SIGNUP",{title:"Before you add this to your basket...",description:"Create a LottieFiles account so you can purchase, test, edit, and easily implement Lottie animations."})},removeFromCart:function(t){var e=this,a=this.cart[t].id;window.Bus.$emit("REMOVED_FROM_CART",{id:a}),setTimeout(function(){e.cart.splice(t,1)},100),axios.delete("/cart/"+a).then(function(t){t.data}).catch(function(t){})},removeFromCartById:function(t){var e=null;this.cart.map(function(a,n){a.id==t&&(e=n)}),this.cart.splice(e,1),axios.delete("/cart/"+t).then(function(t){t.data}).catch(function(t){})},initStripe:function(){this.stripe=Stripe("pk_live_KAx4tKBaYoc7ymLVThGvcpCd00Iamz1xgb")},loadForm:function(){var t=this,e=t.stripe.elements().create("card",{style:{base:{fontSize:"16px",color:"#32325d"}}});e.mount("#card-element"),e.addEventListener("change",function(e){var a=document.getElementById("card-errors");e.error?a.textContent=e.error.message:(a.textContent="",t.disableSubmit=!0),e.complete&&(t.disableSubmit=!1),e.empty&&(t.disableSubmit=!0)}),document.getElementById("payment-form").addEventListener("submit",function(a){a.preventDefault(),t.activePayment=!0,t.disableSubmit=!0,t.stripe.createToken(e).then(function(e){if(e.error);else{var a=document.getElementById("payment-form"),s=document.createElement("input");s.setAttribute("type","hidden"),s.setAttribute("name","stripeToken"),s.setAttribute("value",e.token.id),a.appendChild(s);for(var i=[],r=0;r<a.elements.length;r++){var o=a.elements[r];i[o.name]=o.value}axios.post("/single_payment",n({},i)).then(function(e){e.data.success?window.location.href="/payment-confirmation":t.errorMsg=e.data}).catch(function(e){t.errorMsg=e.response.data.message,t.activePayment=!1})}})})}},directives:{"click-outside":{bind:function(t,e,a){if("function"!=typeof e.value){var n=a.context.name;e.expression;n&&"Found in component '"+n+"'"}var s=e.modifiers.bubble,i=function(a){(s||!t.contains(a.target)&&t!==a.target)&&e.value(a)};t.__vueClickOutside__=i,document.addEventListener("click",i)},unbind:function(t,e){document.removeEventListener("click",t.__vueClickOutside__),t.__vueClickOutside__=null}}}}},587:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.getItemsCount>=1?a("a",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.outside,expression:"outside"}],staticClass:"trans md:-mt-3 md:mt-0 block md:inline-block text-left justify-start",class:{blink:t.isBlink}},[a("div",{staticClass:"relative mx-2 md:mx-0"},[a("button",{staticClass:"px-1 mt-4 md:pr-2 h-8 text-left rounded bg-lf-teal  hover:bg-teal-light w-full md:w-auto flex items-center md:mt-3 md:mx-3 md:mr-4",on:{click:this.toggleShow}},[a("figure",{staticClass:"relative flex flex-row-reverse w-full md:w-auto"},[a("span",{staticClass:"md:absolute ml-auto rounded-full text-white bg-red font-bold block text-xs p-1 py-0 pin-r pin-t",staticStyle:{top:"-12px",right:"-12px",padding:"1px 4px"}},[t._v(t._s(t.getItemsCount))]),t._v(" "),a("img",{staticStyle:{"object-fit":"contain"},attrs:{src:t.staticPath+"/images/components/cart_icon.svg"}})])]),t._v(" "),a("transition",{attrs:{name:"slide-fade"}},[t.toast?a("div",{staticClass:"absolute trans pin-r rounded p-2 mt-0 -mr-2",staticStyle:{width:"120px"},attrs:{id:"toast"}},[a("div",{staticClass:" flex justify-end text-right"},[a("div",{staticClass:"arrowup inline-block mr-6"})]),t._v(" "),a("div",{staticClass:"shadow-lg p-2 w-full text-center inline-block rounded bg-teal-light text-xs text-white font-lf-bold "},[t._v("\n                    Added to Cart\n                ")])]):t._e()]),t._v(" "),t.show?a("div",{staticClass:"cart-container flex flex-col md:flex-row md:rounded-lg mt-2 md:absolute mt-0 md:mt-10 pin-t pin-r min-w-full md:bg-white z-50 overflow-hidden",staticStyle:{border:"2px solid white","box-shadow":"0px 2px 35px rgba(0, 0, 0, 0.18)"}},[a("div",{staticClass:"md:w-2/3 p-4 pt-4 md:overflow-scroll",staticStyle:{background:"#F1F1F1"}},[a("h3",{staticClass:"font-normal font-lf-bold text-base text-grey-darker mb-4"},[t._v("\n                    Animations in Cart ("+t._s(t.getItemsCount)+")\n                ")]),t._v(" "),a("div",{staticClass:"flex flex-col md:flex-col overflow-scroll"},t._l(t.cart,function(e,n){return a("div",{key:e.id,staticClass:"bg-white p-2 flex content-center md:w-auto my-1 rounded"},[a("div",{staticClass:"flex justify-between items-center content-center pr-1 relative w-full"},[a("div",{staticClass:"flex items-center content-center "},[a("figure",{staticClass:"w-12"},[a("img",{attrs:{src:t.assetsPath+"/"+e.preview,alt:""}})]),t._v(" "),a("div",{staticClass:"ml-2"},[a("div",{staticClass:"font-lf-semi-bold mb-1 text-grey-darkest text-sm"},[t._v("\n                                        "+t._s(e.title)+"\n                                    ")]),t._v(" "),a("span",{staticClass:"font-lf-regular text-grey-darkest text-sm"},[t._v("$"+t._s(e.price))])])]),t._v(" "),a("div",[a("a",{staticClass:"trans cursor-pointer hover:bg-lf-teal p-2 rounded px-3 remove-from-cart",on:{click:function(e){return t.removeFromCart(n)}}},[a("img",{staticClass:"w-4 h-4 opacity-50",attrs:{src:t.staticPath+"/images/svg/trash-cart.svg",alt:""}})])])])])}),0)]),t._v(" "),a("div",{staticClass:"md:w-4/5 p-4 px-6 py-4 flex flex-col"},[a("h3",{staticClass:"font-normal font-lf-bold text-base text-grey-darker mb-4"},[t._v("\n                    Order Summary\n                ")]),t._v(" "),a("div",{staticClass:"border-b flex justify-between font-lf-bold text-lg text-grey-darkest py-3 mb-4"},[a("div",{staticClass:"text-black"},[t._v("Total")]),t._v(" "),a("div",[a("span",{staticClass:"font-lf-regular"},[t._v("USD")]),t._v(" "),a("span",{staticClass:"text-black"},[t._v("$"+t._s(this.getTotal))])])]),t._v(" "),a("p",{staticClass:"font-normal text-base leading-lf my-2 text-grey-darker"},[t._v("\n                    Enter your payment information below to complete your\n                    purchase.\n                ")]),t._v(" "),t.errorMsg?a("div",{staticClass:"text-sm rounded bg-red-lightest text-red-dark p-2"},[t._v("\n                    "+t._s(t.errorMsg)+"\n                ")]):t._e(),t._v(" "),a("form",{staticClass:"mt-auto mb-auto",attrs:{method:"post",id:"payment-form"}},[t._m(0),t._v(" "),a("input",{attrs:{type:"hidden",name:"_token"},domProps:{value:t.csrf}}),t._v(" "),a("input",{attrs:{type:"hidden",name:"amount"},domProps:{value:this.getTotal}}),t._v(" "),t.activePayment?t._e():a("button",{staticClass:"p-4 shadow-lf text-white font-bold font-lf-bold text-lg rounded mt-auto w-full",class:{"bg-lf-teal":!t.disableSubmit,"bg-grey opacity-50":t.disableSubmit},attrs:{disabled:t.disableSubmit,type:"submit"}},[t._v("\n                        Pay $"+t._s(this.getTotal)+"\n                    ")]),t._v(" "),t.activePayment?a("button",{staticClass:"p-1 shadow-lf text-white font-bold font-lf-bold text-lg rounded mt-auto w-full bg-lf-teal",attrs:{disabled:t.disableSubmit,type:"submit"}},[a("lottie",{attrs:{height:"44px",width:"44px",path:t.staticPath+"/images/lottie/payment-loading.json"}})],1):t._e()]),t._v(" "),a("figure",{staticClass:"mt-4"},[a("img",{staticClass:"w-32",attrs:{src:t.staticPath+"/images/components/cart_stripe.png"}})])])]):t._e()],1)]):t._e()},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"py-4"},[e("div",{staticClass:"CheckOutTrigger",attrs:{id:"card-element"}}),this._v(" "),e("div",{attrs:{id:"card-errors",role:"alert"}})])}]}},740:function(t,e,a){var n=a(358)(a(586),a(587),!1,function(t){a(584)},"data-v-a4fe5cfa",null);t.exports=n.exports}});